<html>
<head>
<meta charset='utf-8'>
<title>Editor</title>
<link rel='shortcut icon' type='image/x-icon' href='psi.ico'>

<script src='lib/codemirror.js'></script>

<script src="jquery.js"></script>

<!-- <script src="emmet/emmet.min.js"></script> -->


<!-- <script src="lib/util/foldcode.js"></script>
<script src="lib/util/searchcursor.js"></script>
<script src="lib/util/match-highlighter.js"></script>
<script src="lib/util/loadmode.js"></script>
<script src="lib/util/formatting.js"></script>
<script src="lib/util/closetag.js"></script> -->

<script src='mode/xml/xml.js'></script>
<script src='mode/javascript/javascript.js'></script>
<script src='mode/css/css.js'></script>
<script src='mode/htmlmixed/htmlmixed.js'></script>

<link rel='stylesheet' href='lib/codemirror.css'>

		<link rel="stylesheet" href="theme/neat.css">
		<link rel="stylesheet" href="theme/elegant.css">
		<link rel="stylesheet" href="theme/erlang-dark.css">
		<link rel="stylesheet" href="theme/night.css">
		<link rel="stylesheet" href="theme/monokai.css">
		<link rel="stylesheet" href="theme/cobalt.css">
		<link rel="stylesheet" href="theme/eclipse.css">
		<link rel="stylesheet" href="theme/rubyblue.css">
		<link rel="stylesheet" href="theme/lesser-dark.css">
		<link rel="stylesheet" href="theme/xq-dark.css">
		<link rel="stylesheet" href="theme/ambiance.css">
		<link rel="stylesheet" href="theme/blackboard.css">





<style>
*
{
	margin: 0px;
	padding: 0px;
	/*font-family: 'Arial';*/
}
.but
{
	width: 2%;
	height: 100%;
	float: left;
}
.con
{
	width: 0%;
	height: 100%;
	float: left;
	overflow: scroll;
}
.controls
{
	width: 100%;
	height: 10%;
	float: left;
}
.nav
{
	box-sizing: border-box;
	width: 100%;
	height: 100%;
}
.rem
{
	float: left;
	margin-right: 5px;
}
#code, #preview
{
	width: 100%;
	height: 100%;
	overflow-x: hidden;
}
</style>
<script>
$(function()
{
	var s = 38
	$('#find_button').toggle
	(
		function()
		{
			$('#find').children('.con').animate({width: '00%'}, 500)
			if ($('#edit').children('.con').css('width') != '0px' && $('#view').children('.con').css('width') != '0px')
			{
				$('#edit').children('.con').animate({width: (s+9)+'%'}, 500)
				$('#view').children('.con').animate({width: (s+9)+'%'}, 500)
			}
			else if ($('#edit').children('.con').css('width') != '0px')
			{
				$('#edit').children('.con').animate({width: ((s+9)*2)+'%'}, 500)
			}
			else if ($('#view').children('.con').css('width') != '0px')
			{
				$('#view').children('.con').animate({width: ((s+9)*2)+'%'}, 500)
			}
		},
		function()
		{
			$('#find').children('.con').animate({width: (s-20)+'%'}, 500)
			if ($('#edit').children('.con').css('width') != '0px' && $('#view').children('.con').css('width') != '0px')
			{
				$('#edit').children('.con').animate({width: (s)+'%'}, 500)
				$('#view').children('.con').animate({width: (s)+'%'}, 500)
			}
			else if ($('#edit').children('.con').css('width') != '0px')
			{
				$('#edit').children('.con').animate({width: (s*2)+'%'}, 500)
			}
			else if ($('#view').children('.con').css('width') != '0px')
			{
				$('#view').children('.con').animate({width: (s*2)+'%'}, 500)
			}
		}
	)
	$('#edit_button').toggle
	(
		function()
		{
			if ($('#find').children('.con').css('width') == '0px')
			{
				$('#edit').children('.con').animate({width: ((s+9)*2)+'%'}, 500)
				$('#view').children('.con').animate({width: '00%'}, 500)
			}
			else
			{
				$('#edit').children('.con').animate({width: ((s)*2)+'%'}, 500)
				$('#view').children('.con').animate({width: '00%'}, 500)
			}
		},
		function()
		{
			if ($('#find').children('.con').css('width') == '0px')
			{
				$('#edit').children('.con').animate({width: (s+9)+'%'}, 500)
				$('#view').children('.con').animate({width: (s+9)+'%'}, 500)
			}
			else
			{
				$('#edit').children('.con').animate({width: (s)+'%'}, 500)
				$('#view').children('.con').animate({width: (s)+'%'}, 500)
			}
		}
	)
	$('#view_button').toggle
	(
		function()
		{
			if ($('#find').children('.con').css('width') == '0px')
			{
				$('#edit').children('.con').animate({width: '00%'}, 500)
				$('#view').children('.con').animate({width: ((s+9)*2)+'%'}, 500)
			}
			else
			{
				$('#edit').children('.con').animate({width: '00%'}, 500)
				$('#view').children('.con').animate({width: ((s)*2)+'%'}, 500)
			}
		},
		function()
		{
			if ($('#find').children('.con').css('width') == '0px')
			{
				$('#edit').children('.con').animate({width: (s+9)+'%'}, 500)
				$('#view').children('.con').animate({width: (s+9)+'%'}, 500)
			}
			else
			{
				$('#edit').children('.con').animate({width: (s)+'%'}, 500)
				$('#view').children('.con').animate({width: (s)+'%'}, 500)
			}
		}
	)
	$('#find').children('.con').animate({width: '18%'}, 500)
	$('#edit').children('.con').animate({width: '38%'}, 500)
	$('#view').children('.con').animate({width: '38%'}, 500)
})
</script>
</head>
<body>
	<div id='left'>
		<div id='find'>
			<div class='but'>
				<button class='nav' id='find_button'></button>
			</div>
			<div class='con'>

			</div>
		</div>
	</div>
	<div id='right'>
		<div id='edit'>
			<div class='but'>
				<button class='nav' id='edit_button'></button>
			</div>
			<div class='con'>
<textarea id='code' name='code'>
<!doctype html>
<html>
	<head>
		<meta charset='utf-8'>
		<title>HTML5 canvas demo</title>
		<style>
			*
			{
				padding: 0px;
				margin: 0px;
			}
			body
			{
				height: 100%;
				width: 100%;
			}
		</style>
	</head>
	<body>
		<canvas id='pane' width='500' height='1000'></canvas>
		<script>
			var canvas = document.getElementById('pane')
			var context = canvas.getContext('2d')

			draw(250, 250)

			function clear()
			{
				context.clearRect(0, 0, canvas.width, canvas.height);
			}
			function draw(x, y)
			{
				circle(x-100, y, 100, 5, '', 'rgba(250, 0, 0, 0.5)');
				circle(x, y-100, 100, 5, '', 'rgba(0, 0, 0, 0.5)');
				circle(x, y+100, 100, 5, '', 'rgba(0, 250, 0, 0.5)');
				circle(x+100, y, 100, 5, '', 'rgba(0, 0, 250, 0.5)');
				circle(x-70, y-70, 100, 5, '', 'rgba(250, 0, 250, 0.5)');
				circle(x+70, y+70, 100, 5, '', 'rgba(250, 250, 0, 0.5)');
				circle(x-70, y+70, 100, 5, '', 'rgba(0, 250, 250, 0.5)');
				circle(x+70, y-70, 100, 5, '', 'rgba(250, 250, 250, 0.5)');

				circle(x-100, y, 100, 5, 'black');
				circle(x, y-100, 100, 5, 'black');
				circle(x, y+100, 100, 5, 'black');
				circle(x+100, y, 100, 5, 'black');
				circle(x-70, y-70, 100, 5, 'black');
				circle(x-70, y+70, 100, 5, 'black');
				circle(x+70, y-70, 100, 5, 'black');
				circle(x+70, y+70, 100, 5, 'black');
			}
			function square(x, y, e, w, c, f)
			{
				if (c == '')
				{
					c = 'rgba(0, 0, 0, 0)'
				}
				context.beginPath()
				context.rect(x, y, e, e)
				context.lineWidth = w
				context.strokeStyle = c
				context.stroke()
				if (f)
				{
					context.fillStyle = f
					context.fillRect(x, y, e, e)
				}
			}
			function circle(x, y, r, w, c, f)
			{
				context.beginPath();
				context.arc(x, y, r, Math.PI, -Math.PI, false);
				context.lineWidth = w;
				if (f)
				{
					context.fillStyle = f
					context.fill();
				}
				context.strokeStyle = c;
				context.stroke();
			}
		</script>
	</body>
</html>
</textarea>
			</div>
		</div>
		<div id='view'>
			<div class='but'>
				<button class='nav' id='view_button'></button>
			</div>
			<div class='con'>
<iframe id='preview'></iframe>
<script>
function updatePreview()
{
	previewFrame = $('#preview')[0]
	preview = previewFrame.contentDocument || previewFrame.contentWindow.document
	preview.open()
	preview.write(editor.getValue())
	preview.close()
}
editor = CodeMirror.fromTextArea($('#code')[0],
{
	mode: 'text/html',
	tabMode: 'indent',
    tabSize: 4,
    indentUnit: 4,
    indentWithTabs: true,
    lineNumbers: true,
//     lineWrapping: true,
//     fixedGutter: true,
    matchBrackets: true,
    autofocus: true,
	onChange: function() {updatePreview()},
	extraKeys:
	{
		"Tab": "indentMore",
		"Shift-Tab": "indentLess",

		"'>'":      function(cm) {cm.closeTag(cm, '>')},
		"'/'":      function(cm) {cm.closeTag(cm, '/')},
		"Ctrl-Q":   function(cm) {foldFunc_html(cm, cm.getCursor().line)},
		"F11":      function()
		{
			var scroller = editor.getScrollerElement()
			if (scroller.className.search(/\bCodeMirror-fullscreen\b/) === -1)
			{
				scroller.className += "CodeMirror-fullscreen"
				scroller.style.height = "100%"
				scroller.style.width = "100%"
				editor.refresh()
			}
			else
			{
				scroller.className = scroller.className.replace(" CodeMirror-fullscreen", "")
				scroller.style.height = ''
				scroller.style.width = ''
				editor.refresh()
			}
		},
		"Esc":      function()
		{
			var scroller = editor.getScrollerElement()
			if (scroller.className.search(/\bCodeMirror-fullscreen\b/) !== -1)
			{
				scroller.className = scroller.className.replace(" CodeMirror-fullscreen", "")
				scroller.style.height = ''
				scroller.style.width = ''
				editor.refresh()
			}
		}
	},
})
updatePreview()
$(function()
{
	editor.refresh()
	$(editor).scroll()
})
</script>
			</div>
		</div>
	</div>
</body>
<script src="emmet.js"></script>
</html>
